<style>
    .date-picker-popup {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background-color: #fff;
        border: 1px solid #ccc;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    /* Add some basic styling to the button */
    .beautiful-button {
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        color: #fff;
        background-color: #3498db;
        /* Set your desired background color */
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        /* Add a smooth transition effect */
    }

    /* Change the button color on hover */
    .beautiful-button:hover {
        background-color: #2980b9;
        /* Change to a slightly darker shade on hover */
    }
</style>

<body>

    <div class="theme-loader">
        <div class="ball-scale">
            <div class='contain'>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">


            {{>header}}

            <div id="sidebar" class="users p-chat-user showChat">
                <div class="had-container">
                    <div class="card card_main p-fixed users-main">
                        <div class="user-box">
                            <div class="chat-inner-header">
                                <div class="back_chatBox">
                                    <div class="right-icon-control">
                                        <input type="text" class="form-control  search-text" placeholder="Search Friend"
                                            id="search-friends">
                                        <div class="form-icon">
                                            <i class="icofont icofont-search"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="main-friend-list">
                                <div class="media userlist-box" data-id="1" data-status="online"
                                    data-username="Josephin Doe" data-toggle="tooltip" data-placement="left"
                                    title="Josephin Doe">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius img-radius"
                                            src="{{process.env.BASE_URL}}/assets/images/avatar-3.jpg"
                                            alt="Generic placeholder image ">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Josephin Doe</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="2" data-status="online"
                                    data-username="Lary Doe" data-toggle="tooltip" data-placement="left"
                                    title="Lary Doe">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius"
                                            src="{{process.env.BASE_URL}}/assets/images/avatar-2.jpg"
                                            alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Lary Doe</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="3" data-status="online" data-username="Alice"
                                    data-toggle="tooltip" data-placement="left" title="Alice">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius"
                                            src="{{process.env.BASE_URL}}/assets/images/avatar-4.jpg"
                                            alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Alice</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="4" data-status="online" data-username="Alia"
                                    data-toggle="tooltip" data-placement="left" title="Alia">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius"
                                            src="{{process.env.BASE_URL}}/assets/images/avatar-3.jpg"
                                            alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Alia</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="5" data-status="online" data-username="Suzen"
                                    data-toggle="tooltip" data-placement="left" title="Suzen">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius"
                                            src="{{process.env.BASE_URL}}/assets/images/avatar-2.jpg"
                                            alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Suzen</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="showChat_inner">
                <div class="media chat-inner-header">
                    <a class="back_chatBox">
                        <i class="feather icon-chevron-left"></i> Josephin Doe
                    </a>
                </div>
                <div class="media chat-messages">
                    <a class="media-left photo-table" href="#!">
                        <img class="media-object img-radius img-radius m-t-5"
                            src="{{process.env.BASE_URL}}/assets/images/avatar-3.jpg" alt="Generic placeholder image">
                    </a>
                    <div class="media-body chat-menu-content">
                        <div class="">
                            <p class="chat-cont">I'm just looking around. Will you tell me something about yourself?</p>
                            <p class="chat-time">8:20 a.m.</p>
                        </div>
                    </div>
                </div>
                <div class="media chat-messages">
                    <div class="media-body chat-menu-reply">
                        <div class="">
                            <p class="chat-cont">I'm just looking around. Will you tell me something about yourself?</p>
                            <p class="chat-time">8:20 a.m.</p>
                        </div>
                    </div>
                    <div class="media-right photo-table">
                        <a href="#!">
                            <img class="media-object img-radius img-radius m-t-5"
                                src="{{process.env.BASE_URL}}/assets/images/avatar-4.jpg"
                                alt="Generic placeholder image">
                        </a>
                    </div>
                </div>
                <div class="chat-reply-box p-b-20">
                    <div class="right-icon-control">
                        <input type="text" class="form-control search-text" placeholder="Share Your Thoughts">
                        <div class="form-icon">
                            <i class="feather icon-navigation"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">


                    {{>sidebar}}
                    <div class="pcoded-content">
                        <div class="pcoded-inner-content">

                            <div class="main-body">
                                <div class="page-wrapper">

                                    <div class="page-header">
                                        <div class="row align-items-end">
                                            <div class="col-lg-8">
                                                <div class="page-header-title">
                                                    <div class="d-inline">
                                                        <h4>Orders List</h4>
                                                        <span></span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="page-body">
                                        <div class="row">
                                            <div class="col-sm-12">

                                                <div class="card">
                                                    <div class="card-header table-card-header">
                                                        <h5> Orders List</h5>

                                                    </div>
                                                    <div class="card-block">
                                                        <div class="dt-responsive table-responsive">
                                                            <table id="basic-btn"
                                                                class="table table-striped table-bordered nowrap text-center">
                                                                <thead>
                                                                    <tr>

                                                                        {{!-- <th>Day</th>
                                                                        <th>Date</th> --}}
                                                                        <th>quantity</th>
                                                                        {{!-- <th>OrderFor</th> --}}
                                                                        <th>fullName</th>
                                                                        <th>Order Status</th>
                                                                        <th>Action</th>


                                                                    </tr>
                                                                </thead>


                                                                <tbody>
                                                                    {{#each ordersList}}
                                                                    <tr>
                                                                        {{!-- <td>{{this.day}}</td>

                                                                        <td>{{this.OrderDate}}</td> --}}
                                                                        <td>{{this.quantity}}</td>

                                                                        {{!-- <td>{{this.orderFor}}</td> --}}

                                                                        <td>{{this.fullName}}</td>
                                                                        <td>

                                                                            <span
                                                                                class="label  {{#if (if_eq this.orderStatus 'Cancelled')}}label-danger{{/if}}{{#if (if_eq this.orderStatus 'Upcoming')}}label-primary{{/if}}{{#if (if_eq this.orderStatus 'Delivered')}}label-success{{/if}} text-uppercase">{{this.orderStatus}}</span>

                                                                        </td>


                                                                        <td style="padding-top :10px;">


                                                                            <form method="POST"
                                                                                action="/allOrdersProfil">
                                                                                <input type="hidden" name="id"
                                                                                    value="{{this._id}}">
                                                                                <input type="hidden" name="valuefor"
                                                                                    value="{{this.orderFor}}">

                                                                                <button type="submit" class="block mr-0"
                                                                                    style="background-color: #E4D00A"><i
                                                                                        class="icofont icofont-eye-alt"></i></button>


                                                                                <button type="button"
                                                                                    class="btn btn-primary edit-quantity-btn"
                                                                                    data-toggle="modal"
                                                                                    data-target="#editQuantityModal"
                                                                                    data-quantity="{{this.quantity}}"
                                                                                    data-orderid="{{this._id}}"
                                                                                    data-orderfor="{{this.orderFor}}"
                                                                                    style="border-radius: 6px; font-size: 10px; padding: 7px 14px;">Edit
                                                                                    Quantity</button>

                                                                            </form>
                                                                        </td>
                                                                    </tr>
                                                                    {{/each}}

                                                                </tbody>

                                                            </table>
                                                        </div>
                                                        <div class="modal fade" id="editQuantityModal" tabindex="-1"
                                                            role="dialog" aria-labelledby="editQuantityModalLabel"
                                                            aria-hidden="true">
                                                            <div class="modal-dialog" role="document">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="editQuantityModalLabel">Edit Quantity
                                                                        </h5>
                                                                        <button type="button" class="close"
                                                                            data-dismiss="modal" aria-label="Close">
                                                                            <span aria-hidden="true">&times;</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body">
                                                                        <form action="/updateQuantity" id="quantityForm"
                                                                            method="post">
                                                                            <input type="hidden" id="orderIdInput"
                                                                                name="orderId" value="">
                                                                            <input type="hidden" id="orderForInput"
                                                                                name="orderFor" value="">

                                                                            <label for="quantity">Quantity:</label>
                                                                            <input type="text" id="quantityInput"
                                                                                name="quantity" class="form-control"
                                                                                placeholder="Enter Quantity" required>

                                                                            <div class="modal-footer">
                                                                                <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-dismiss="modal">Close</button>
                                                                                <button type="submit"
                                                                                    class="btn btn-primary">Save</button>
                                                                            </div>
                                                                        </form>

                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showDatePicker() {
            var datePickerPopup = document.getElementById("datePickerPopup");
            datePickerPopup.style.display = "block";
        }

        function getOrders() {
            var orderDate = document.getElementById("orderDate").value;
            // Use orderDate to fetch orders for the selected date
            console.log("Selected date:", orderDate);
            // Close the date picker popup
            var datePickerPopup = document.getElementById("datePickerPopup");
            datePickerPopup.style.display = "none";
        }

    </script>

    <script>
        $(document).ready(function () {
            $('.edit-quantity-btn').click(function () {
                var quantity = $(this).data('quantity');
                var orderId = $(this).data('orderid');
                var orderFor = $(this).data('orderfor');

                $('#quantityInput').val(quantity);
                $('#orderIdInput').val(orderId);
                $('#orderForInput').val(orderFor);

            });
        });
    </script>

</body>